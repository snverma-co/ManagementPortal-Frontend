{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';// Uncomment and import the necessary actions\nimport{getClientById,createClient,updateClient}from'../../store/slices/clientSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClientDetails=()=>{const{id}=useParams();const navigate=useNavigate();const dispatch=useDispatch();const{client,isLoading}=useSelector(state=>state.clients);// Replace placeholder state with Redux state\n// const [client, setClient] = useState(null);\n// const [loading, setLoading] = useState(false);\nconst[formData,setFormData]=useState({name:'',email:'',phone:'',password:''});useEffect(()=>{if(id!=='new'){dispatch(getClientById(id));}},[dispatch,id]);useEffect(()=>{if(client&&id!=='new'){setFormData({name:client.name||'',email:client.email||'',phone:client.phone||'',password:''});}},[client,id]);const onChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const onSubmit=e=>{e.preventDefault();if(id==='new'){dispatch(createClient(formData));}else{dispatch(updateClient({id,clientData:formData}));}navigate('/admin/clients');};if(isLoading)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center py-4\",children:\"Loading client details...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800 mb-6\",children:id==='new'?'Add New Client':'Edit Client'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:onChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:onChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"phone\",name:\"phone\",value:formData.phone,onChange:onChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"password\",children:[\"Password \",id!=='new'&&'(Leave blank to keep current password)']}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:onChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",required:id==='new'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:id==='new'?'Create Client':'Update Client'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/admin/clients'),className:\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:\"Cancel\"})]})]})]});};export default ClientDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useDispatch","useSelector","getClientById","createClient","updateClient","jsx","_jsx","jsxs","_jsxs","ClientDetails","id","navigate","dispatch","client","isLoading","state","clients","formData","setFormData","name","email","phone","password","onChange","e","target","value","onSubmit","preventDefault","clientData","className","children","htmlFor","type","required","onClick"],"sources":["C:/Users/Jaydeep/portal/frontend/src/pages/admin/ClientDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n// Uncomment and import the necessary actions\r\nimport { getClientById, createClient, updateClient } from '../../store/slices/clientSlice';\r\n\r\nconst ClientDetails = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { client, isLoading } = useSelector((state) => state.clients);\r\n  \r\n  // Replace placeholder state with Redux state\r\n  // const [client, setClient] = useState(null);\r\n  // const [loading, setLoading] = useState(false);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    password: ''\r\n  });\r\n  \r\n  useEffect(() => {\r\n    if (id !== 'new') {\r\n      dispatch(getClientById(id));\r\n    }\r\n  }, [dispatch, id]);\r\n  \r\n  useEffect(() => {\r\n    if (client && id !== 'new') {\r\n      setFormData({\r\n        name: client.name || '',\r\n        email: client.email || '',\r\n        phone: client.phone || '',\r\n        password: ''\r\n      });\r\n    }\r\n  }, [client, id]);\r\n  \r\n  const onChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  \r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (id === 'new') {\r\n      dispatch(createClient(formData));\r\n    } else {\r\n      dispatch(updateClient({ id, clientData: formData }));\r\n    }\r\n    navigate('/admin/clients');\r\n  };\r\n  \r\n  if (isLoading) return <p className=\"text-center py-4\">Loading client details...</p>;\r\n  \r\n  return (\r\n    <div className=\"bg-white shadow-md rounded-lg p-6\">\r\n      <h2 className=\"text-2xl font-semibold text-gray-800 mb-6\">\r\n        {id === 'new' ? 'Add New Client' : 'Edit Client'}\r\n      </h2>\r\n      \r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"name\">\r\n            Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={onChange}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={onChange}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"phone\">\r\n            Phone\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"phone\"\r\n            name=\"phone\"\r\n            value={formData.phone}\r\n            onChange={onChange}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\r\n            Password {id !== 'new' && '(Leave blank to keep current password)'}\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={onChange}\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n            required={id === 'new'}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"flex items-center justify-between\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n          >\r\n            {id === 'new' ? 'Create Client' : 'Update Client'}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => navigate('/admin/clients')}\r\n            className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}