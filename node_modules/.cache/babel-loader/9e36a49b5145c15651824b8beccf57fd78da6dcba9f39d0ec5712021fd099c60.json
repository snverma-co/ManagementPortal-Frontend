{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{getTasks,updateTask}from'../../store/slices/taskSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClientTasks=()=>{const dispatch=useDispatch();const{tasks,isLoading}=useSelector(state=>state.tasks);useEffect(()=>{dispatch(getTasks());},[dispatch]);const handleStatusChange=(taskId,newStatus)=>{dispatch(updateTask({id:taskId,taskData:{status:newStatus}}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800 mb-6\",children:\"My Tasks\"}),isLoading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center py-4\",children:\"Loading tasks...\"}):tasks.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center py-4\",children:\"No tasks assigned to you yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100 text-gray-600 uppercase text-sm leading-normal\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-6 text-left\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-6 text-left\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-6 text-left\",children:\"Deadline\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-6 text-left\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"text-gray-600 text-sm\",children:tasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-200 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-6 text-left\",children:task.title}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-6 text-left\",children:task.description.length>50?`${task.description.substring(0,50)}...`:task.description}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-6 text-left\",children:new Date(task.deadline).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-6 text-left\",children:/*#__PURE__*/_jsxs(\"select\",{value:task.status,onChange:e=>handleStatusChange(task._id,e.target.value),className:\"border rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in-progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"})]})})]},task._id))})]})})]});};export default ClientTasks;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","getTasks","updateTask","jsx","_jsx","jsxs","_jsxs","ClientTasks","dispatch","tasks","isLoading","state","handleStatusChange","taskId","newStatus","id","taskData","status","className","children","length","map","task","title","description","substring","Date","deadline","toLocaleDateString","value","onChange","e","_id","target"],"sources":["C:/Users/Jaydeep/portal/frontend/src/pages/client/Tasks.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getTasks, updateTask } from '../../store/slices/taskSlice';\r\n\r\nconst ClientTasks = () => {\r\n  const dispatch = useDispatch();\r\n  const { tasks, isLoading } = useSelector((state) => state.tasks);\r\n  \r\n  useEffect(() => {\r\n    dispatch(getTasks());\r\n  }, [dispatch]);\r\n  \r\n  const handleStatusChange = (taskId, newStatus) => {\r\n    dispatch(updateTask({ id: taskId, taskData: { status: newStatus } }));\r\n  };\r\n  \r\n  return (\r\n    <div className=\"bg-white shadow-md rounded-lg p-6\">\r\n      <h2 className=\"text-2xl font-semibold text-gray-800 mb-6\">My Tasks</h2>\r\n      \r\n      {isLoading ? (\r\n        <p className=\"text-center py-4\">Loading tasks...</p>\r\n      ) : tasks.length === 0 ? (\r\n        <p className=\"text-center py-4\">No tasks assigned to you yet.</p>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-white\">\r\n            <thead>\r\n              <tr className=\"bg-gray-100 text-gray-600 uppercase text-sm leading-normal\">\r\n                <th className=\"py-3 px-6 text-left\">Title</th>\r\n                <th className=\"py-3 px-6 text-left\">Description</th>\r\n                <th className=\"py-3 px-6 text-left\">Deadline</th>\r\n                <th className=\"py-3 px-6 text-left\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"text-gray-600 text-sm\">\r\n              {tasks.map((task) => (\r\n                <tr key={task._id} className=\"border-b border-gray-200 hover:bg-gray-50\">\r\n                  <td className=\"py-3 px-6 text-left\">{task.title}</td>\r\n                  <td className=\"py-3 px-6 text-left\">\r\n                    {task.description.length > 50\r\n                      ? `${task.description.substring(0, 50)}...`\r\n                      : task.description}\r\n                  </td>\r\n                  <td className=\"py-3 px-6 text-left\">\r\n                    {new Date(task.deadline).toLocaleDateString()}\r\n                  </td>\r\n                  <td className=\"py-3 px-6 text-left\">\r\n                    <select\r\n                      value={task.status}\r\n                      onChange={(e) => handleStatusChange(task._id, e.target.value)}\r\n                      className=\"border rounded px-2 py-1\"\r\n                    >\r\n                      <option value=\"pending\">Pending</option>\r\n                      <option value=\"in-progress\">In Progress</option>\r\n                      <option value=\"completed\">Completed</option>\r\n                    </select>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientTasks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}